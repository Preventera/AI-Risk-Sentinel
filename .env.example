# =============================================================================
# AI Risk Sentinel - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# =============================================================================
# Environment
# =============================================================================
ENVIRONMENT=development
LOG_LEVEL=INFO
DEBUG=true

# =============================================================================
# Database (PostgreSQL with pgvector)
# =============================================================================
POSTGRES_USER=ars_user
POSTGRES_PASSWORD=ars_password_change_me
POSTGRES_DB=ai_risk_sentinel
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Full connection string (constructed from above or override)
DATABASE_URL=postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# =============================================================================
# Redis
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

# Celery
CELERY_BROKER_URL=redis://${REDIS_HOST}:${REDIS_PORT}/1
CELERY_RESULT_BACKEND=redis://${REDIS_HOST}:${REDIS_PORT}/2

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Rate limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# =============================================================================
# External API Keys
# =============================================================================

# Hugging Face (required for HF_Crawler agent)
# Get your token at: https://huggingface.co/settings/tokens
HF_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Anthropic Claude API (for LLM classification)
# Get your key at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OpenAI API (optional fallback)
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# Agent Configuration
# =============================================================================

# HF_Crawler
HF_CRAWLER_BATCH_SIZE=100
HF_CRAWLER_RATE_LIMIT=10
HF_CRAWLER_SCHEDULE="0 2 * * *"

# Incident_Monitor
AIID_API_URL=https://incidentdatabase.ai/api
AIID_POLL_INTERVAL=3600

# =============================================================================
# ML / Embeddings
# =============================================================================

# Embedding model (sentence-transformers)
EMBEDDING_MODEL=BAAI/bge-large-en-v1.5
EMBEDDING_DIMENSION=1024

# Classification model (local or API)
CLASSIFIER_MODE=api
CLASSIFIER_MODEL=claude-3-haiku-20240307

# =============================================================================
# Frontend
# =============================================================================
FRONTEND_PORT=3000
REACT_APP_API_URL=http://localhost:${API_PORT}

# =============================================================================
# Monitoring & Observability
# =============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# =============================================================================
# Security
# =============================================================================

# JWT Secret (generate with: openssl rand -hex 32)
JWT_SECRET=your-secret-key-change-me-in-production

# API Key for service-to-service auth
SERVICE_API_KEY=your-service-api-key-change-me

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_REALTIME_ALERTS=true
FEATURE_COMPLIANCE_CHECKER=true
FEATURE_RISK_PREDICTION=false
